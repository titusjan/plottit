<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <meta name="description" content="User manual for the Plottit Firefox extension.">
    <meta name="keywords" content="Plottit,Reddit">

    <link rel="stylesheet" type="text/css" href="documentation.css" >
    <title>Plottit user manual</title>
</head>

<body>
<article>

    <section id="tlrd">
        <h1>TL;DR</h1>
        
        At the end of this document you can find some <a href="#examples">ideas and examples</a> on how to use Plottit.

    </section>
    
    <section id="user-interface">
        <h1>Plottit User Interface</h1>
        
        The Plottit pane will appear at the bottom of the window whenever you visit a Reddit discussion. It contains the <a href="#comments-table">Comments table</a> on the left, and one of the following items on the right: a frame with the selected <a href="#comment-text">comment text</a>, a <a href="#scatter-plot">scatter plot</a>, a <a href="#histogram">histogram</a> or a <a href="#treemap">treemap</a>.
        <p>
        
        When the Reddit discussion is loaded completely, Plottit requests the Reddit server for a machine-readable version of the discussion. This is then used to populate the table and draw the graphs. Note that because the Reddit page and the data in the Plottit pane are not loaded simultaniously, small differences may occur.
        <p>
        
        Plottit can be disabled and hidden by toggling the <img src="enableButton.png"  title="enables/disables Plottit" alt="enable/disable"> button in the Firefox navigation toolbar. When Plottit is disabled it will not send requests to the server so you don't have to worry about wasting bandwidth. 
        <p>
        The Plottit pane can be resized by dragging the separator. The vertical separator between the table and the graphs can be dragged to change the size of the graphs relative to the table. Drag it completely to the right to hide the graphs.
        
        <section id="comments-table">
            <h2>Comments Table</h2>
        
            The Comments table contains a row for each comment on the Reddit page. A comment has certain properties, such as the author and the score, which are listed in the tables columns. There are many of these properties, they are <a href="#table-collumns">explained in detail</a> later in this section. Most of them are hidden by default, you can configure which columns are visible by clicking the <img src="selectTableColumns.png" title="selects visible columns" alt="select table column" > button in the top right corner of the table. You can reorder the columns by dragging/dropping them and resize them using the table header separators. 
            <p>
            You can sort the table for every column by clicking its header; clicking the same header again reverses the order. The only exception is the <em>Comment</em> column. When you click on this header, the comments column switches between a tree structure and a flat list. In tree-mode, a comment is only sorted by comparing it with its siblings so that the structure of the discussion remains intact (this is also how the Reddit page itself is sorted). In flat-mode however, the rows are sorted over the complete discussion.
            <p>
            When you select a row in the table, the corresponding comment in the Reddit page will be highlighted. If necessary the Reddit page will scroll to the comment to make it visible. Conversely, when you click on a comment in the Reddit page, the corresponding row will be selected in the comments table
            
            <figure>
                <img class="screenshot" src="tableAndPage.png" title="Screen shot" alt="Screen shoft of comments table and Reddit paget">
                <figcaption>The comments table in tree mode showing a selected row and its corresponding  highlighted comment in the Reddit page.</figcaption>
            </figure>
            
            When the table is in tree-mode, you can collapse and expand the comments by clicking the icon before the comment text. Depending on your operating system this will be +/- symbol or a triangle. The Reddit page is also synchronized when a comment is expanded or collapsed.
            <p>
            
            When the table has the keyboard focus, the up and down arrows select the next and previous comment and the left and right arrow collapse and expand a comment. This allows you to easily navigate the discussion using only the keyboard.
            <p>
            
            Some of the columns, for example the <em>Up</em> and <em>Down</em> votes, are rendered in an <em>italic</em> font. This is to indicate that this value is fuzzed by the Reddit server to combat spam and therefore does not represent the actual value; it has been deliberately modified. The Examples chapter contains a section that examines <a href="#fuzzing">fuzzing in more detail</a> but, in short, the more votes a comment has received, the more this number is distorted. This is also true for the properties that are derived from the number of up and down votes, such as the <em>Likes</em> and <em>Best</em> percentages. Only the <em>Score</em> and <em>Hot</em> values are not affected because Reddit fuzzes the votes in such a way that these numbers remain the same.
            <p>            
                        
            <span id="table-collumns">The rest of this section explains all the available columns.</span> The <a href="#comment-text">next section</a> will discuss the comment text pane and the visualizations.
                       
            <section id="col-id">
                <h3>ID Column</h3>
                This is the comments identifier. Every Reddit comment contains a unique ID that is used, for example, in a URL that links to that specific comment. 
            </section>
            
            <section id="col-page-order">
                <h3>Page Order Column</h3>
                This number represents the position of the post in the current Reddit page. The Reddit page can be sorted independently of Plottit by selecting the sort order from the menu at the top of the discussion (see the screen shot below). This allows you to sort the page by: date (old/new), score (top), controversial, hot and best. 
                <p>

                <figure>
                    <img class="screenshot" src="sortRedditPage.png" title="Sorting a Reddit Page" alt="Screen shoft Reddit page sort menu">
                    <figcaption>The sort menu on the Reddit page</figcaption>
                </figure>
                
                There may be small differences between the Reddit page and the table order when you sort by controversial or best. This is caused by vote fuzzing. Also, when sorting by score, Plottit cannot derive the page order if two comments have the same score. Therefore it is convenient to have the original page order available as a separate column.
            </section>
    
            <section id="col-author">
                <h3>Author Column</h3>
                The Redditor who wrote the comment.
            </section>
            
            <section id="col-date">
                <h3>Date Column</h3>
                The date and time when the comment was posted. This is the local date in the time zone specified in your computers conguration settings.
                <p>
                You can select the format in which this date and/or time is displayed by right-clicking the column header.
                
            </section>
            
            <section id="utc-date">
                <h3>UTC Date Column</h3>
                The UTC date and time when the comment was posted. <a href="http://en.wikipedia.org/wiki/Coordinated_Universal_Time"> UTC (Coordinated Universal Time)</a>  is a time that is independent of your local time zone. UTC is practically the same as GMT, which was its predecessor.
                <p>
                You can select the format in which this date and/or time is displayed by right-clicking the column header.
            </section>
            
            <section id="col-age">
                <h3>Age Column</h3>
                
                The age of the comment. This is the difference between time the comment was posted and when the page was loaded. It therefore changes each time you reload the page.
            </section>
            
            <section id="col-posted-after">
                <h3>Posted After Column</h3>
                The time difference between the start of the disussion and the time that the comment was posted to this discussion.    
            </section>
            
            <section id="col-depth">
                <h3>Depth Column</h3>
                The depth of the comment in the tree. A top level comment has a depth of 1, its direct children have depth 2, its grand children 3, et cetera. 
            </section>
            
            <section id="col-replies">
                <h3>Replies Column</h3>
                
                The number of direct replies to a comment.
            </section>
            
            <section id="col-comment-text">
                <h3>Comment Column</h3>
                The comment text. By clicking on the header you can toggle between displaying the discussion as a tree or as a flat list.
            </section>
            
            <section id="col-ups">
                <h3>Up Column</h3>
                The number of up-votes the comment has received.
                <p>
                <strong>Note: </strong>this number is <a href="fuzzing">fuzzed</a> by Reddit and is therefore less accurate for comments having a lot of votes.
            </section>
            
            <section id="col-downs">
                <h3>Down Column</h3>
                The number of down-votes the comment has received.
                <p>
                <strong>Note: </strong>this number is <a href="fuzzing">fuzzed</a> by Reddit and is therefore less accurate for comments having a lot of votes.
            </section>
            
            <section id="col-votes">
                <h3>Votes Column</h3>
                The total number of votes the comment has received. In other words: the number of up-votes plus the number of down-votes.
                <p>
                <strong>Note: </strong>this number is <a href="fuzzing">fuzzed</a> by Reddit and is therefore less accurate for comments having a lot of votes.
            </section>
            
            <section id="col-score">
                <h3>Score Column</h3>
                The comments score. That is: the number of up-votes minus the number of down-votes.
                <p>
                <strong>Note: </strong>this number is not affected by Reddits <a href="fuzzing">vote fuzzing</a>.
            </section>
            
            <section id="col-likes">
                <h3>Likes Column</h3>
                The percentage of voters that likes the comment. This is defined as: <i>100 * up / (up + down)</i>. In other words, it is the percentage of votes that are up-votes.
                <p>
                <strong>Note: </strong>this number is <a href="fuzzing">fuzzed</a> by Reddit and is therefore less accurate for comments having a lot of votes.
            </section>

            <section id="col-controversial">
                <h3>Controversial Column</h3>
                A measure of the controversy of the comment. This is calulated with the following formula:
               <figure>
                    <img class="formula" src="formula_controversy.png" alt="controversy formula">
               </figure>
               If the absolute difference between the number of up-votes and downvotes is small, the denominator will become small and therefore the controversy will become large. The maximum with 1 is taken to prevent division by zero in case the number of upvotes and down-votes are equal.               
               <p>
               The <i>up + down</i> in the numerator causes that the contoversy increases when the total number of votes increases. For example, a comment with 5 upvotes and 4 downvotes is more controversial than a comment with 4 upvotes and 3 downvotes.
               <p>
               <strong>Note: </strong>this number is <a href="fuzzing">fuzzed</a> by Reddit and is therefore less accurate for comments having a lot of votes.
            </section>
            
            <section id="col-hot">
                <h3>Hot Column</h3>
                The hotness of the comment. This is a measure that tries to strike a balance between promoting the newest comments and the comments with the highest scores. 
                <p>
                The hotness is a relative measure; calculating the hotness of a single comment doesn't tell us much, it only becomes usefull when the hotness of one comment is compared to that of another.
                <p>
                The hotness is calculated as follows:
                <figure>
                    <img class="formula" src="formula_hotness.png" alt="hotness formula">
                </figure>
               
                Let's first examine what happens if the score is positive (the score is the up-votes minus the down-votes as usual). You can see that the hotness is the sum of two terms, the first of which depends on the <i>score</i> and the second on the time (<i>t</i>) that the comment was posted. The <i>log<sub>10</sub>(score)</i> makes that the hotness increases with the score but with a diminishing return; if a comments score would be multiplied by 10 its hotness would increase by 1.
                
                <p>
                The second term first calculates the number of seconds that have elapsed between a certain start date (<i>t<sub>start</sub></i>) and the date that the comment was posted (<i>t</i>). The start date that reddit uses is 2005-12-08 at 07:46:43 but it could be any date as long as it's older than the oldest comment. The  number of elapsed seconds is subsequently divided by 45000 seconds. 45000 seconds is equal to 12.5 hours so if comment A is posted 12.5 hours later than comment B, comment A will be 1 point hotter than comment B, provided that they have the same score. Comment B would need to have ten times the score of comment A to catch up with A in hotness.
                <p>
                You can calculate that, for yesterdays comment to be just as hot as todays, it needs to have about 83 times the score as yesterdays comment. If a comment is exactly two days old, it needs to have a score of at least 6919 for to be hotter than a comment that is posted right now and has a score of 1. 
                <p>
                Comments that have a score of 0 always have a hotness of 0 as well. Comments having a negative score will have a negative hotness because the elapsed time divided by 45000 will be subtracted from the first term (which is smaller). Strangely enough, the first term is positive which means that a comment with a score of -2 is hotter than a comment with score -1 that is posted at the same time.
                <p>
                Because the time that a comment was posted doesn't change, a comments hotness can only change if its score changes. Reddit prohibits users to vote on comments that are older than six months so the hotness of these comments becomes fixed at that time. Calculting the score from the elapsed time since an arbitrary start date makes it easier for Reddit to archive and cache these pages than if the hotness were calculated directly from the age of the comment, which keeps on changing.
                <p>
                <strong>Note: </strong>this number is not affected by Reddits <a href="fuzzing">vote fuzzing</a> because it is directly calculated from the <a href="col-score">score</a>, which is unaffected as well.
                                
            </section>
            
            <section id="col-words">
                <h3>Words Column</h3>
                The number of words in the comment.
            </section>
            
            <section id="col-chars">
                <h3>Characters Column</h3>
                The number of characters in the comment.
            </section>
            
        </section>
        
        
        
        
        
        <section id="comment-text">
            <h2>Comment Text</h2>
        </section>
        
        <section id="scatter-plot">
            <h2>Scatter Plot</h2>
        </section>
        
        <section id="histogram">
            <h2>Histogram</h2>
        </section>
        
        <section id="treemap">
            <h2>Treemap</h2>
        </section>
    </section>
    
    <section id="examples">
        <h1>Example useage</h1>
        
        <section id="fuzzing">
            <h2>Examining how votes are fuzzed by Reddit.</h2>
        </section>
        
    </section>
    
    
</article>
</body>
</html>
